{"ast":null,"code":"import { Subscription } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../post.service\";\nconst _c0 = function (a1) {\n  return [\"/edit\", a1];\n};\nfunction PostListComponent_mat_accordion_0_mat_expansion_panel_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-expansion-panel\")(1, \"mat-expansion-panel-header\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-action-row\")(6, \"button\", 4);\n    i0.ɵɵtext(7, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function PostListComponent_mat_accordion_0_mat_expansion_panel_1_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const post_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.onDelete(post_r3.id));\n    });\n    i0.ɵɵtext(9, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const post_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", post_r3.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(post_r3.content);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(3, _c0, post_r3.id));\n  }\n}\nfunction PostListComponent_mat_accordion_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-accordion\", 2);\n    i0.ɵɵtemplate(1, PostListComponent_mat_accordion_0_mat_expansion_panel_1_Template, 10, 5, \"mat-expansion-panel\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.posts);\n  }\n}\nfunction PostListComponent_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 6);\n    i0.ɵɵtext(1, \" No post added yet\");\n    i0.ɵɵelementEnd();\n  }\n}\nclass PostListComponent {\n  constructor(postService) {\n    this.postService = postService;\n    this.posts = [];\n    this.postSub = new Subscription();\n  }\n  ngOnInit() {\n    this.postService.getPost();\n    this.postSub = this.postService.getPostUpdateListener().subscribe(posts => {\n      this.posts = posts;\n    });\n  }\n  onDelete(id) {\n    this.postService.deletePost(id);\n  }\n  ngOnDestroy() {\n    this.postSub.unsubscribe();\n  }\n  static {\n    this.ɵfac = function PostListComponent_Factory(t) {\n      return new (t || PostListComponent)(i0.ɵɵdirectiveInject(i1.PostService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: PostListComponent,\n      selectors: [[\"app-post-list\"]],\n      decls: 2,\n      vars: 2,\n      consts: [[\"multi\", \"true\", 4, \"ngIf\"], [\"class\", \"info-text mat-body-1\", 4, \"ngIf\"], [\"multi\", \"true\"], [4, \"ngFor\", \"ngForOf\"], [\"mat-button\", \"\", \"color\", \"primary\", 3, \"routerLink\"], [\"mat-button\", \"\", \"color\", \"warn\", 3, \"click\"], [1, \"info-text\", \"mat-body-1\"]],\n      template: function PostListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, PostListComponent_mat_accordion_0_Template, 2, 1, \"mat-accordion\", 0);\n          i0.ɵɵtemplate(1, PostListComponent_p_1_Template, 2, 0, \"p\", 1);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.posts.length > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.posts.length <= 0);\n        }\n      },\n      styles: [\"[_nghost-%COMP%]{\\n  display:block;\\n  \\n\\n  margin-top: 1rem;\\n}\\n\\n.info-text[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcG9zdC9wb3N0LWxpc3QvcG9zdC1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2IsZUFBZTtFQUNmLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGtCQUFrQjtBQUNwQiIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0e1xyXG4gIGRpc3BsYXk6YmxvY2s7XHJcbiAgLyogMXJlbSA9IDE2cHgqL1xyXG4gIG1hcmdpbi10b3A6IDFyZW07XHJcbn1cclxuXHJcbi5pbmZvLXRleHQge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}\nexport { PostListComponent };","map":{"version":3,"names":["Subscription","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","PostListComponent_mat_accordion_0_mat_expansion_panel_1_Template_button_click_8_listener","restoredCtx","ɵɵrestoreView","_r5","post_r3","$implicit","ctx_r4","ɵɵnextContext","ɵɵresetView","onDelete","id","ɵɵadvance","ɵɵtextInterpolate1","title","ɵɵtextInterpolate","content","ɵɵproperty","ɵɵpureFunction1","_c0","ɵɵtemplate","PostListComponent_mat_accordion_0_mat_expansion_panel_1_Template","ctx_r0","posts","PostListComponent","constructor","postService","postSub","ngOnInit","getPost","getPostUpdateListener","subscribe","deletePost","ngOnDestroy","unsubscribe","ɵɵdirectiveInject","i1","PostService","selectors","decls","vars","consts","template","PostListComponent_Template","rf","ctx","PostListComponent_mat_accordion_0_Template","PostListComponent_p_1_Template","length"],"sources":["C:\\Users\\keral\\Desktop\\assignment1\\ng-front\\src\\app\\post\\post-list\\post-list.component.ts","C:\\Users\\keral\\Desktop\\assignment1\\ng-front\\src\\app\\post\\post-list\\post-list.component.html"],"sourcesContent":["import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {PostService} from '../post.service'\nimport {Post} from \"../post.model\";\nimport {Subscription} from \"rxjs\";\n\n@Component({\n  selector: 'app-post-list',\n  templateUrl: './post-list.component.html',\n  styleUrls: ['./post-list.component.css']\n})\nexport class PostListComponent implements OnInit, OnDestroy {\n  posts: Post[] = [];\n  private postSub: Subscription;\n\n  constructor(public postService: PostService) {\n    this.postSub = new Subscription();\n  }\n\n  ngOnInit() {\n    this.postService.getPost();\n    this.postSub = this.postService.getPostUpdateListener()\n      .subscribe((posts:Post[]) => {\n        this.posts = posts;\n      });\n  }\n\n  onDelete(id: string){\n    this.postService.deletePost(id);\n  }\n\n  ngOnDestroy() {\n    this.postSub.unsubscribe();\n  }\n}\n","<mat-accordion multi=\"true\" *ngIf=\"posts.length>0\">\n  <!--    structure directives-->\n  <mat-expansion-panel *ngFor=\"let post of posts\">\n    <mat-expansion-panel-header>\n      {{post.title}}\n    </mat-expansion-panel-header>\n    <p>{{post.content}}</p>\n    <mat-action-row>\n      <button mat-button color=\"primary\" [routerLink]=\"['/edit', post.id]\">Edit</button>\n      <button mat-button color=\"warn\" (click)=\"onDelete(post.id)\">Delete</button>\n    </mat-action-row>\n  </mat-expansion-panel>\n</mat-accordion>\n\n<p class=\"info-text mat-body-1\" *ngIf=\"posts.length <=0 \"> No post added yet</p>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}