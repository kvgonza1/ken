{"ast":null,"code":"import { Subscription } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../post.service\";\nimport * as i2 from \"../../auth/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/expansion\";\nconst _c0 = function (a1) {\n  return [\"/edit\", a1];\n};\nfunction PostListComponent_mat_accordion_0_mat_expansion_panel_1_mat_action_row_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-action-row\")(1, \"button\", 5);\n    i0.ɵɵtext(2, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function PostListComponent_mat_accordion_0_mat_expansion_panel_1_mat_action_row_5_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const post_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.onDelete(post_r3.id));\n    });\n    i0.ɵɵtext(4, \"Delete\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const post_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c0, post_r3.id));\n  }\n}\nfunction PostListComponent_mat_accordion_0_mat_expansion_panel_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-expansion-panel\")(1, \"mat-expansion-panel-header\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, PostListComponent_mat_accordion_0_mat_expansion_panel_1_mat_action_row_5_Template, 5, 3, \"mat-action-row\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const post_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", post_r3.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(post_r3.content);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.userIsAuthenticated);\n  }\n}\nfunction PostListComponent_mat_accordion_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-accordion\", 2);\n    i0.ɵɵtemplate(1, PostListComponent_mat_accordion_0_mat_expansion_panel_1_Template, 6, 3, \"mat-expansion-panel\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.posts);\n  }\n}\nfunction PostListComponent_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 7);\n    i0.ɵɵtext(1, \" No post added yet\");\n    i0.ɵɵelementEnd();\n  }\n}\nclass PostListComponent {\n  constructor(postService, authService) {\n    this.postService = postService;\n    this.authService = authService;\n    this.posts = [];\n    this.userIsAuthenticated = false;\n    this.postSub = new Subscription();\n    this.authStatusSub = this.authService.getAuthStatusListener().subscribe(status => {\n      this.userIsAuthenticated = status;\n    });\n  }\n  ngOnInit() {\n    this.postService.getPost();\n    this.postSub = this.postService.getPostUpdateListener().subscribe(posts => {\n      this.posts = posts;\n    });\n    this.userIsAuthenticated = this.authService.getIsAuth();\n    this.authStatusSub = this.authService.getAuthStatusListener().subscribe(status => {\n      this.userIsAuthenticated = status;\n    });\n  }\n  onDelete(id) {\n    this.postService.deletePost(id);\n  }\n  ngOnDestroy() {\n    this.postSub.unsubscribe();\n    this.authStatusSub.unsubscribe();\n  }\n  static {\n    this.ɵfac = function PostListComponent_Factory(t) {\n      return new (t || PostListComponent)(i0.ɵɵdirectiveInject(i1.PostService), i0.ɵɵdirectiveInject(i2.AuthService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: PostListComponent,\n      selectors: [[\"app-post-list\"]],\n      decls: 2,\n      vars: 2,\n      consts: [[\"multi\", \"true\", 4, \"ngIf\"], [\"class\", \"info-text mat-body-1\", 4, \"ngIf\"], [\"multi\", \"true\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"mat-button\", \"\", \"color\", \"primary\", 3, \"routerLink\"], [\"mat-button\", \"\", \"color\", \"warn\", 3, \"click\"], [1, \"info-text\", \"mat-body-1\"]],\n      template: function PostListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, PostListComponent_mat_accordion_0_Template, 2, 1, \"mat-accordion\", 0);\n          i0.ɵɵtemplate(1, PostListComponent_p_1_Template, 2, 0, \"p\", 1);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.posts.length > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.posts.length <= 0);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.RouterLink, i5.MatButton, i6.MatAccordion, i6.MatExpansionPanel, i6.MatExpansionPanelActionRow, i6.MatExpansionPanelHeader],\n      styles: [\"[_nghost-%COMP%]{\\n  display:block;\\n  \\n\\n  margin-top: 1rem;\\n}\\n\\n.info-text[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcG9zdC9wb3N0LWxpc3QvcG9zdC1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2IsZUFBZTtFQUNmLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGtCQUFrQjtBQUNwQiIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0e1xyXG4gIGRpc3BsYXk6YmxvY2s7XHJcbiAgLyogMXJlbSA9IDE2cHgqL1xyXG4gIG1hcmdpbi10b3A6IDFyZW07XHJcbn1cclxuXHJcbi5pbmZvLXRleHQge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}\nexport { PostListComponent };","map":{"version":3,"names":["Subscription","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","PostListComponent_mat_accordion_0_mat_expansion_panel_1_mat_action_row_5_Template_button_click_3_listener","ɵɵrestoreView","_r7","post_r3","ɵɵnextContext","$implicit","ctx_r5","ɵɵresetView","onDelete","id","ɵɵadvance","ɵɵproperty","ɵɵpureFunction1","_c0","ɵɵtemplate","PostListComponent_mat_accordion_0_mat_expansion_panel_1_mat_action_row_5_Template","ɵɵtextInterpolate1","title","ɵɵtextInterpolate","content","ctx_r2","userIsAuthenticated","PostListComponent_mat_accordion_0_mat_expansion_panel_1_Template","ctx_r0","posts","PostListComponent","constructor","postService","authService","postSub","authStatusSub","getAuthStatusListener","subscribe","status","ngOnInit","getPost","getPostUpdateListener","getIsAuth","deletePost","ngOnDestroy","unsubscribe","ɵɵdirectiveInject","i1","PostService","i2","AuthService","selectors","decls","vars","consts","template","PostListComponent_Template","rf","ctx","PostListComponent_mat_accordion_0_Template","PostListComponent_p_1_Template","length"],"sources":["C:\\Users\\keral\\Desktop\\assignment1\\ng-front\\src\\app\\post\\post-list\\post-list.component.ts","C:\\Users\\keral\\Desktop\\assignment1\\ng-front\\src\\app\\post\\post-list\\post-list.component.html"],"sourcesContent":["import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {PostService} from '../post.service'\nimport {Post} from \"../post.model\";\nimport {Subscription} from \"rxjs\";\nimport {AuthService} from \"../../auth/auth.service\";\n\n@Component({\n  selector: 'app-post-list',\n  templateUrl: './post-list.component.html',\n  styleUrls: ['./post-list.component.css']\n})\nexport class PostListComponent implements OnInit, OnDestroy {\n  posts: Post[] = [];\n  private postSub: Subscription;\n  private authStatusSub: Subscription;\n  userIsAuthenticated: boolean = false;\n\n  constructor(public postService: PostService, private authService: AuthService) {\n    this.postSub = new Subscription();\n    this.authStatusSub = this.authService.getAuthStatusListener().subscribe((status: boolean) => {\n      this.userIsAuthenticated = status;\n    });\n  }\n\n  ngOnInit() {\n    this.postService.getPost();\n    this.postSub = this.postService.getPostUpdateListener()\n      .subscribe((posts: Post[]) => {\n        this.posts = posts;\n      });\n    this.userIsAuthenticated = this.authService.getIsAuth();\n    this.authStatusSub = this.authService.getAuthStatusListener().subscribe( (status:boolean)=>{\n      this.userIsAuthenticated = status;\n    });\n  }\n\n  onDelete(id: string) {\n    this.postService.deletePost(id);\n  }\n\n  ngOnDestroy() {\n    this.postSub.unsubscribe();\n    this.authStatusSub.unsubscribe();\n  }\n}\n","<mat-accordion multi=\"true\" *ngIf=\"posts.length>0\">\n  <!--    structure directives-->\n  <mat-expansion-panel *ngFor=\"let post of posts\">\n    <mat-expansion-panel-header>\n      {{post.title}}\n    </mat-expansion-panel-header>\n    <p>{{post.content}}</p>\n    <mat-action-row *ngIf=\"userIsAuthenticated\">\n      <button mat-button color=\"primary\" [routerLink]=\"['/edit', post.id]\">Edit</button>\n      <button mat-button color=\"warn\" (click)=\"onDelete(post.id)\">Delete</button>\n    </mat-action-row>\n  </mat-expansion-panel>\n</mat-accordion>\n\n<p class=\"info-text mat-body-1\" *ngIf=\"posts.length <=0 \"> No post added yet</p>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}