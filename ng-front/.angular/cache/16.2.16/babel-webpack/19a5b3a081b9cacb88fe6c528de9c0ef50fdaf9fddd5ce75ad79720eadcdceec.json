{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Subscription } from \"rxjs\";\nlet PostListComponent = class PostListComponent {\n  constructor(postService, authService) {\n    this.postService = postService;\n    this.authService = authService;\n    this.posts = [];\n    this.isLoading = false;\n    this.userIsAuthenticated = false;\n    this.postSub = new Subscription();\n    this.authStatusSub = this.authService.getAuthStatusListener().subscribe(status => {\n      this.userIsAuthenticated = status;\n    });\n  }\n  ngOnInit() {\n    this.isLoading = true;\n    this.postService.getPost();\n    this.postSub = this.postService.getPostUpdateListener().subscribe(posts => {\n      this.isLoading = false;\n      this.posts = posts;\n    });\n    this.userIsAuthenticated = this.authService.getIsAuth();\n    this.authStatusSub = this.authService.getAuthStatusListener().subscribe(status => {\n      this.userIsAuthenticated = status;\n    });\n  }\n  onDelete(id) {\n    this.postService.deletePost(id);\n  }\n  ngOnDestroy() {\n    this.postSub.unsubscribe();\n    this.authStatusSub.unsubscribe();\n  }\n};\nPostListComponent = __decorate([Component({\n  selector: 'app-post-list',\n  templateUrl: './post-list.component.html',\n  styleUrls: ['./post-list.component.css']\n})], PostListComponent);\nexport { PostListComponent };","map":{"version":3,"names":["Subscription","PostListComponent","constructor","postService","authService","posts","isLoading","userIsAuthenticated","postSub","authStatusSub","getAuthStatusListener","subscribe","status","ngOnInit","getPost","getPostUpdateListener","getIsAuth","onDelete","id","deletePost","ngOnDestroy","unsubscribe","__decorate","Component","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\keral\\Desktop\\assignment1\\ng-front\\src\\app\\post\\post-list\\post-list.component.ts"],"sourcesContent":["import {PostService} from '../post.service'\nimport {Post} from \"../post.model\";\nimport {Subscription} from \"rxjs\";\nimport {AuthService} from \"../../auth/auth.service\";\n\n\n@Component({\n  selector: 'app-post-list',\n  templateUrl: './post-list.component.html',\n  styleUrls: ['./post-list.component.css']\n})\nexport class PostListComponent implements OnInit, OnDestroy {\n  posts: Post[] = [];\n  isLoading: boolean = false;\n  userIsAuthenticated: boolean = false;\n  private postSub: Subscription;\n  private authStatusSub: Subscription;\n\n  constructor(public postService: PostService, private authService: AuthService) {\n    this.postSub = new Subscription();\n    this.authStatusSub = this.authService.getAuthStatusListener().subscribe((status: boolean) => {\n      this.userIsAuthenticated = status;\n    });\n  }\n\n  ngOnInit() {\n    this.isLoading = true;\n    this.postService.getPost();\n    this.postSub = this.postService.getPostUpdateListener()\n      .subscribe((posts: Post[]) => {\n        this.isLoading = false;\n        this.posts = posts;\n      });\n    this.userIsAuthenticated = this.authService.getIsAuth();\n    this.authStatusSub = this.authService.getAuthStatusListener().subscribe( (status:boolean)=>{\n      this.userIsAuthenticated = status;\n    });\n  }\n\n  onDelete(id: string) {\n    this.postService.deletePost(id);\n  }\n\n  ngOnDestroy() {\n    this.postSub.unsubscribe();\n    this.authStatusSub.unsubscribe();\n  }\n}\n"],"mappings":";AAEA,SAAQA,YAAY,QAAO,MAAM;AASjC,IAAaC,iBAAiB,GAA9B,MAAaA,iBAAiB;EAO5BC,YAAmBC,WAAwB,EAAUC,WAAwB;IAA1D,KAAAD,WAAW,GAAXA,WAAW;IAAuB,KAAAC,WAAW,GAAXA,WAAW;IANhE,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,SAAS,GAAY,KAAK;IAC1B,KAAAC,mBAAmB,GAAY,KAAK;IAKlC,IAAI,CAACC,OAAO,GAAG,IAAIR,YAAY,EAAE;IACjC,IAAI,CAACS,aAAa,GAAG,IAAI,CAACL,WAAW,CAACM,qBAAqB,EAAE,CAACC,SAAS,CAAEC,MAAe,IAAI;MAC1F,IAAI,CAACL,mBAAmB,GAAGK,MAAM;IACnC,CAAC,CAAC;EACJ;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACP,SAAS,GAAG,IAAI;IACrB,IAAI,CAACH,WAAW,CAACW,OAAO,EAAE;IAC1B,IAAI,CAACN,OAAO,GAAG,IAAI,CAACL,WAAW,CAACY,qBAAqB,EAAE,CACpDJ,SAAS,CAAEN,KAAa,IAAI;MAC3B,IAAI,CAACC,SAAS,GAAG,KAAK;MACtB,IAAI,CAACD,KAAK,GAAGA,KAAK;IACpB,CAAC,CAAC;IACJ,IAAI,CAACE,mBAAmB,GAAG,IAAI,CAACH,WAAW,CAACY,SAAS,EAAE;IACvD,IAAI,CAACP,aAAa,GAAG,IAAI,CAACL,WAAW,CAACM,qBAAqB,EAAE,CAACC,SAAS,CAAGC,MAAc,IAAG;MACzF,IAAI,CAACL,mBAAmB,GAAGK,MAAM;IACnC,CAAC,CAAC;EACJ;EAEAK,QAAQA,CAACC,EAAU;IACjB,IAAI,CAACf,WAAW,CAACgB,UAAU,CAACD,EAAE,CAAC;EACjC;EAEAE,WAAWA,CAAA;IACT,IAAI,CAACZ,OAAO,CAACa,WAAW,EAAE;IAC1B,IAAI,CAACZ,aAAa,CAACY,WAAW,EAAE;EAClC;CACD;AApCYpB,iBAAiB,GAAAqB,UAAA,EAL7BC,SAAS,CAAC;EACTC,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACWzB,iBAAiB,CAoC7B;SApCYA,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}