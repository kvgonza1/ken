{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CreatePostComponent = class CreatePostComponent {\n  constructor(postService, route) {\n    this.postService = postService;\n    this.route = route;\n    this.post = {\n      id: '',\n      title: '',\n      content: ''\n    };\n    this.mode = 'create';\n    this.postId = '';\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(paramMap => {\n      if (paramMap.has('postId')) {\n        console.log('edit');\n        this.mode = 'edit';\n        this.postId = paramMap.get('postId');\n        this.postService.getPostById(this.postId).subscribe(post => {\n          this.post = {\n            id: post._id,\n            title: post.title,\n            content: post.content\n          };\n        });\n      } else {\n        this.mode = 'create';\n        this.postId = '';\n      }\n    });\n  }\n  onAddPost(form) {\n    if (form.invalid) {\n      return;\n    }\n    if (this.mode === 'create') {\n      this.postService.addPost(form.value.title, form.value.content);\n      form.resetForm();\n    } else {\n      this.postService.updatePost(this.postId, form.value.title, form.value.content);\n    }\n  }\n};\nCreatePostComponent = __decorate([Component({\n  selector: 'app-create-post',\n  templateUrl: './create-post.component.html',\n  styleUrls: ['./create-post.component.css']\n})], CreatePostComponent);\nexport { CreatePostComponent };","map":{"version":3,"names":["Component","CreatePostComponent","constructor","postService","route","post","id","title","content","mode","postId","ngOnInit","paramMap","subscribe","has","console","log","get","getPostById","_id","onAddPost","form","invalid","addPost","value","resetForm","updatePost","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\keral\\Desktop\\assignment1\\ng-front\\src\\app\\post\\post-create\\post-create.component.ts"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {NgForm} from \"@angular/forms\";\nimport {PostService} from \"../post.service\";\nimport {ActivatedRoute, ParamMap} from \"@angular/router\";\nimport {Post} from \"../post.model\";\n\n@Component({\n  selector: 'app-create-post',\n  templateUrl: './create-post.component.html',\n  styleUrls: ['./create-post.component.css']\n})\nexport class CreatePostComponent implements OnInit {\n  post: Post = {id: '', title: '', content: ''};\n  private mode: string = 'create';\n  private postId: string = '';\n\n  constructor(public postService: PostService, public route: ActivatedRoute) {\n  }\n\n  ngOnInit() {\n    this.route.paramMap.subscribe((paramMap: ParamMap) => {\n      if (paramMap.has('postId')) {\n        console.log('edit');\n        this.mode = 'edit';\n        this.postId = <string>paramMap.get('postId');\n        this.postService.getPostById(this.postId).subscribe(post => {\n          this.post = {id: post._id, title: post.title, content: post.content};\n        });\n      } else {\n        this.mode = 'create';\n        this.postId = '';\n      }\n    });\n  }\n\n  onAddPost(form: NgForm) {\n    if (form.invalid) {\n      return;\n    }\n    if (this.mode === 'create') {\n      this.postService.addPost(form.value.title, form.value.content);\n      form.resetForm()\n    } else{\n      this.postService.updatePost(this.postId, form.value.title, form.value.content);\n    }\n  }\n}\n"],"mappings":";AAAA,SAAQA,SAAS,QAAe,eAAe;AAW/C,IAAaC,mBAAmB,GAAhC,MAAaA,mBAAmB;EAK9BC,YAAmBC,WAAwB,EAASC,KAAqB;IAAtD,KAAAD,WAAW,GAAXA,WAAW;IAAsB,KAAAC,KAAK,GAALA,KAAK;IAJzD,KAAAC,IAAI,GAAS;MAACC,EAAE,EAAE,EAAE;MAAEC,KAAK,EAAE,EAAE;MAAEC,OAAO,EAAE;IAAE,CAAC;IACrC,KAAAC,IAAI,GAAW,QAAQ;IACvB,KAAAC,MAAM,GAAW,EAAE;EAG3B;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACP,KAAK,CAACQ,QAAQ,CAACC,SAAS,CAAED,QAAkB,IAAI;MACnD,IAAIA,QAAQ,CAACE,GAAG,CAAC,QAAQ,CAAC,EAAE;QAC1BC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;QACnB,IAAI,CAACP,IAAI,GAAG,MAAM;QAClB,IAAI,CAACC,MAAM,GAAWE,QAAQ,CAACK,GAAG,CAAC,QAAQ,CAAC;QAC5C,IAAI,CAACd,WAAW,CAACe,WAAW,CAAC,IAAI,CAACR,MAAM,CAAC,CAACG,SAAS,CAACR,IAAI,IAAG;UACzD,IAAI,CAACA,IAAI,GAAG;YAACC,EAAE,EAAED,IAAI,CAACc,GAAG;YAAEZ,KAAK,EAAEF,IAAI,CAACE,KAAK;YAAEC,OAAO,EAAEH,IAAI,CAACG;UAAO,CAAC;QACtE,CAAC,CAAC;OACH,MAAM;QACL,IAAI,CAACC,IAAI,GAAG,QAAQ;QACpB,IAAI,CAACC,MAAM,GAAG,EAAE;;IAEpB,CAAC,CAAC;EACJ;EAEAU,SAASA,CAACC,IAAY;IACpB,IAAIA,IAAI,CAACC,OAAO,EAAE;MAChB;;IAEF,IAAI,IAAI,CAACb,IAAI,KAAK,QAAQ,EAAE;MAC1B,IAAI,CAACN,WAAW,CAACoB,OAAO,CAACF,IAAI,CAACG,KAAK,CAACjB,KAAK,EAAEc,IAAI,CAACG,KAAK,CAAChB,OAAO,CAAC;MAC9Da,IAAI,CAACI,SAAS,EAAE;KACjB,MAAK;MACJ,IAAI,CAACtB,WAAW,CAACuB,UAAU,CAAC,IAAI,CAAChB,MAAM,EAAEW,IAAI,CAACG,KAAK,CAACjB,KAAK,EAAEc,IAAI,CAACG,KAAK,CAAChB,OAAO,CAAC;;EAElF;CACD;AAnCYP,mBAAmB,GAAA0B,UAAA,EAL/B3B,SAAS,CAAC;EACT4B,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,C,EACW7B,mBAAmB,CAmC/B;SAnCYA,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}